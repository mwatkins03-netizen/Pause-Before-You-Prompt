<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PAUSE Before You Prompt - Interactive Ethics Activity</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Inter', sans-serif; }
    .gradient-text { background: linear-gradient(135deg, #6366f1, #8b5cf6, #d946ef); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .glass { background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); }
    .pillar-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .pillar-card:hover { transform: translateY(-4px) scale(1.02); }
    .pulse { animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    .scenario-card:hover .arrow { transform: translateX(4px); }
    .progress-fill { transition: width 0.5s ease-out; }
    .modal { animation: fadeIn 0.2s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    .tree-node { animation: slideIn 0.3s ease-out; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50">
  <div id="app" class="p-4 md:p-8">
    <!-- Header -->
    <header class="text-center mb-8">
      <div class="inline-flex items-center gap-3 bg-white shadow-xl px-6 py-4 rounded-2xl mb-6 border border-gray-100">
        <div class="w-14 h-14 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg">
          <div class="flex items-center gap-1">
            <div class="w-2 h-8 bg-white rounded-full"></div>
            <div class="w-2 h-8 bg-white rounded-full"></div>
          </div>
        </div>
        <div class="text-left">
          <h1 class="text-3xl font-black gradient-text">PAUSE</h1>
          <p class="text-sm text-gray-500 font-medium tracking-wide">Before You Prompt</p>
        </div>
      </div>
      <p class="text-gray-600 max-w-2xl mx-auto text-lg leading-relaxed">
        An interactive framework for ethical AI use. Build <span class="font-semibold text-indigo-600">metacognitive skills</span> to navigate AI decisions thoughtfully.
      </p>
    </header>

    <!-- Navigation -->
    <nav class="flex justify-center mb-8">
      <div class="inline-flex bg-white rounded-2xl p-1.5 shadow-lg border border-gray-100">
        <button onclick="showTab('explore')" id="tab-explore" class="tab-btn active flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
          <span class="hidden sm:inline">Explore Pillars</span>
        </button>
        <button onclick="showTab('scenarios')" id="tab-scenarios" class="tab-btn flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all text-gray-500 hover:bg-gray-50">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
          <span class="hidden sm:inline">Scenarios</span>
        </button>
        <button onclick="showTab('journal')" id="tab-journal" class="tab-btn flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all text-gray-500 hover:bg-gray-50">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
          <span class="hidden sm:inline">Reflection</span>
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto">
      <!-- Explore Tab -->
      <div id="content-explore" class="tab-content">
        <div class="text-center mb-8">
          <div class="inline-flex items-center gap-3 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white px-6 py-3 rounded-full shadow-lg">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"/></svg>
            <span class="font-semibold">7 Pillars of Ethical AI Use</span>
          </div>
          <p class="text-gray-600 mt-4 max-w-xl mx-auto">Click on any pillar to explore decision trees, deep dives, and reflective questions</p>
        </div>

        <!-- Pillar Grid -->
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-8" id="pillar-grid"></div>

        <!-- Progress Tracker -->
        <div class="mt-8 p-6 bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 rounded-2xl border border-indigo-100">
          <div class="flex items-center justify-between mb-4">
            <div>
              <h3 class="text-xl font-bold text-gray-800">Your Progress</h3>
              <p class="text-gray-600">Explore all 7 pillars to build your AI ethics toolkit</p>
            </div>
            <div class="flex items-center gap-2">
              <span id="progress-count" class="text-4xl font-black text-indigo-600">0</span>
              <span class="text-gray-400 text-xl">/ 7</span>
            </div>
          </div>
          <div class="h-4 bg-white rounded-full overflow-hidden shadow-inner">
            <div id="progress-bar" class="h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 progress-fill" style="width: 0%"></div>
          </div>
        </div>
      </div>

      <!-- Scenarios Tab -->
      <div id="content-scenarios" class="tab-content hidden">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Real-World Scenarios</h2>
          <p class="text-gray-600">Apply the framework to situations you might actually face</p>
        </div>
        <div id="scenarios-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
        <div id="scenario-detail" class="hidden"></div>
      </div>

      <!-- Journal Tab -->
      <div id="content-journal" class="tab-content hidden">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Reflection Journal</h2>
          <p class="text-gray-600">Deepen your metacognitive awareness through guided reflection</p>
        </div>

        <div class="bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-8 rounded-3xl text-white shadow-2xl mb-6">
          <div class="flex items-center justify-between mb-6">
            <span class="bg-white/20 px-4 py-2 rounded-full text-sm font-medium backdrop-blur">
              Prompt <span id="prompt-num">1</span> of <span id="prompt-total">8</span>
            </span>
            <div class="flex gap-2">
              <button onclick="prevPrompt()" class="p-3 rounded-full bg-white/20 hover:bg-white/30 transition">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
              </button>
              <button onclick="nextPrompt()" class="p-3 rounded-full bg-white/20 hover:bg-white/30 transition">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
              </button>
            </div>
          </div>
          <div class="flex items-start gap-4">
            <svg class="w-10 h-10 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
            <p id="reflection-prompt" class="text-2xl font-medium leading-relaxed"></p>
          </div>
        </div>

        <div class="bg-white rounded-2xl border-2 border-gray-100 p-6 shadow-lg mb-6">
          <textarea id="journal-entry" class="w-full p-4 rounded-xl border border-gray-200 text-gray-700 resize-none focus:ring-2 focus:ring-indigo-300 focus:border-indigo-300 min-h-[200px] text-lg" placeholder="Take your time to reflect and write your thoughts..."></textarea>
          <div class="mt-4 flex items-center justify-between">
            <p class="text-sm text-gray-500">Your reflections are stored locally in this session</p>
            <div id="prompt-dots" class="flex gap-2"></div>
          </div>
        </div>

        <div class="grid md:grid-cols-3 gap-4">
          <div class="bg-cyan-50 p-6 rounded-xl border border-cyan-100">
            <svg class="w-10 h-10 text-cyan-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
            <h4 class="font-bold text-gray-800 mb-2 text-lg">Think Metacognitively</h4>
            <p class="text-gray-600">Consider not just what you think, but <em>why</em> you think it</p>
          </div>
          <div class="bg-purple-50 p-6 rounded-xl border border-purple-100">
            <svg class="w-10 h-10 text-purple-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
            <h4 class="font-bold text-gray-800 mb-2 text-lg">Set Intentions</h4>
            <p class="text-gray-600">Define your values around AI use before you need to decide</p>
          </div>
          <div class="bg-amber-50 p-6 rounded-xl border border-amber-100">
            <svg class="w-10 h-10 text-amber-600 mb-4" fill="currentColor" viewBox="0 0 24 24"><path d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"/></svg>
            <h4 class="font-bold text-gray-800 mb-2 text-lg">Grow Awareness</h4>
            <p class="text-gray-600">Each reflection builds your ethical decision-making capacity</p>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="mt-12 text-center text-sm text-gray-500 pb-8">
      <p>Based on <strong>"Pause Before You Prompt"</strong> by Eva Sclippa, Jack Mulvaney, Kristina Bush, Lucy Flamm, Maggie Boyd, and Natalie LoRusso</p>
      <p class="mt-1">Boston University, 2025</p>
    </footer>
  </div>

  <!-- Modal Container -->
  <div id="modal-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden z-50 flex items-center justify-center p-4" onclick="closeModal()">
    <div id="modal-content" class="bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto modal" onclick="event.stopPropagation()"></div>
  </div>

  <script>
    // Data
    const pillars = [
      {
        id: 'motives', title: 'Personal Motives', icon: 'üéØ',
        color: 'from-cyan-400 to-teal-500', bgColor: 'bg-cyan-50', borderColor: 'border-cyan-300',
        question: 'What are your goals for using AI for this task?',
        deepDive: {
          title: 'Understanding Your Why',
          content: 'Before reaching for AI, pause to examine your true motivation. Are you seeking efficiency, learning support, or trying to avoid the work entirely? Your answer reveals whether AI will help or hinder your growth.',
          subQuestions: [
            'Will you need to independently know this skill in the future?',
            'Is there a resource on campus that can help you more effectively?',
            'Are you using AI to enhance learning or replace it?',
            'What would you lose by not doing this task yourself?'
          ],
          scenarios: [
            { situation: 'Using AI to brainstorm ideas for an essay', verdict: 'green', explanation: 'Brainstorming with AI can spark creativity while you still develop your own arguments.' },
            { situation: 'Having AI write your entire research paper', verdict: 'red', explanation: 'This bypasses the learning process and may constitute academic dishonesty.' },
            { situation: 'Using AI to explain a concept you\'re struggling with', verdict: 'green', explanation: 'AI can be a helpful tutor when used to deepen understanding.' }
          ]
        },
        decisionTree: [
          { q: 'Is this task meant to develop a skill you\'ll need in your career?', yes: 1, no: 2 },
          { q: 'Will using AI prevent you from developing that skill?', yes: 'stop', no: 'proceed' },
          { q: 'Are campus resources (tutoring, library, office hours) available for this task?', yes: 3, no: 'proceed' },
          { q: 'Would those resources better serve your learning goals?', yes: 'alternative', no: 'proceed' }
        ]
      },
      {
        id: 'transparency', title: 'Transparency', icon: 'üëÅÔ∏è',
        color: 'from-yellow-400 to-amber-500', bgColor: 'bg-yellow-50', borderColor: 'border-yellow-300',
        question: 'Are you prepared to show and replicate how you used AI for this task?',
        deepDive: {
          title: 'The Disclosure Principle',
          content: 'Transparency isn\'t just about following rules‚Äîit\'s about integrity. If you\'d be uncomfortable explaining exactly how you used AI, that discomfort is a signal worth examining.',
          subQuestions: [
            'Have you checked with collaborators that they\'re okay with your AI use?',
            'Can you cite AI like any other source in your work?',
            'Would you be comfortable if your professor saw your exact prompts?',
            'Does your institution\'s academic conduct code address AI use?'
          ],
          scenarios: [
            { situation: 'Noting "AI-assisted brainstorming" in your methodology', verdict: 'green', explanation: 'Transparent disclosure maintains academic integrity.' },
            { situation: 'Using AI for a group project without telling teammates', verdict: 'red', explanation: 'Collaborators deserve to know about AI involvement in shared work.' },
            { situation: 'Asking AI to check your grammar and not disclosing it', verdict: 'yellow', explanation: 'Context matters‚Äîsome institutions treat this like spell-check, others require disclosure.' }
          ]
        },
        decisionTree: [
          { q: 'Does your assignment/class have a policy on AI use?', yes: 1, no: 2 },
          { q: 'Does your intended use comply with that policy?', yes: 'proceed', no: 'stop' },
          { q: 'Would you be comfortable explaining your AI use to your instructor?', yes: 3, no: 'stop' },
          { q: 'Are you working with others who should know about your AI use?', yes: 4, no: 'proceed' },
          { q: 'Have you discussed and agreed on AI use with them?', yes: 'proceed', no: 'discuss' }
        ]
      },
      {
        id: 'accuracy', title: 'Accuracy', icon: 'üõ°Ô∏è',
        color: 'from-blue-400 to-indigo-500', bgColor: 'bg-blue-50', borderColor: 'border-blue-300',
        question: 'Do you trust this tool? Can you articulate why?',
        deepDive: {
          title: 'The Hallucination Problem',
          content: 'AI tools can generate confident-sounding information that is completely false‚Äîcalled "hallucinations." Without domain knowledge to verify outputs, you may unknowingly spread misinformation.',
          subQuestions: [
            'Have you verified that this tool produces accurate, up-to-date information?',
            'Can you double-check all references by going to the original sources?',
            'How will you know if the tool produces information that doesn\'t exist?',
            'Have you confirmed the outputs don\'t perpetuate biases or stereotypes?'
          ],
          scenarios: [
            { situation: 'Using AI-generated citations without verification', verdict: 'red', explanation: 'AI frequently fabricates citations. Always verify sources exist.' },
            { situation: 'Using AI for math calculations and checking the work', verdict: 'green', explanation: 'Verification transforms AI from a crutch into a tool.' },
            { situation: 'Accepting AI\'s historical facts at face value', verdict: 'red', explanation: 'AI can mix accurate and inaccurate information seamlessly.' }
          ]
        },
        decisionTree: [
          { q: 'Do you have enough knowledge to evaluate AI outputs in this domain?', yes: 1, no: 'learn' },
          { q: 'Are you planning to verify all factual claims independently?', yes: 2, no: 'stop' },
          { q: 'Will you check any citations or references for accuracy?', yes: 3, no: 'stop' },
          { q: 'Are you aware this AI may have biases in its training data?', yes: 'proceed', no: 'research' }
        ]
      },
      {
        id: 'ethics', title: 'Ethics', icon: '‚öñÔ∏è',
        color: 'from-purple-400 to-violet-500', bgColor: 'bg-purple-50', borderColor: 'border-purple-300',
        question: 'Is the value of using this tool greater than the impact?',
        deepDive: {
          title: 'Weighing the Tradeoffs',
          content: 'Every AI use has ripple effects‚Äîenvironmental costs, impacts on human workers, and broader societal implications. Ethical AI use means considering these externalities.',
          subQuestions: [
            'How much energy and water will this AI task consume?',
            'Does using AI for this task minimize the importance of human expertise?',
            'Was this tool trained on works used without permission?',
            'Could you do this task yourself or find someone who can help?'
          ],
          scenarios: [
            { situation: 'Using AI to generate art for a paid commission', verdict: 'red', explanation: 'This may undercut artists and use their work without consent.' },
            { situation: 'Using AI to draft emails more efficiently', verdict: 'yellow', explanation: 'Low stakes, but consider the environmental cost of frequent use.' },
            { situation: 'Using AI to make content accessible (transcription, alt text)', verdict: 'green', explanation: 'Accessibility benefits often outweigh other concerns.' }
          ]
        },
        decisionTree: [
          { q: 'Have you considered the environmental impact of this AI use?', yes: 1, no: 'reflect' },
          { q: 'Does this task truly require AI, or is it a convenience?', yes: 2, no: 3 },
          { q: 'Does the benefit justify the resource consumption?', yes: 4, no: 'alternative' },
          { q: 'Could you accomplish this with less resource-intensive methods?', yes: 'alternative', no: 4 },
          { q: 'Are you comfortable with how this AI was trained (data sources, labor)?', yes: 'proceed', no: 'research' }
        ]
      },
      {
        id: 'copyright', title: 'Copyright', icon: 'üìÑ',
        color: 'from-green-400 to-emerald-500', bgColor: 'bg-green-50', borderColor: 'border-green-300',
        question: 'Do you want to retain the rights to this idea, argument, data, or writing?',
        deepDive: {
          title: 'Ownership & Intellectual Property',
          content: 'When you input your ideas into AI tools, you may be giving up creative ownership. Most AI services train on user inputs and have complex terms of service regarding generated content.',
          subQuestions: [
            'Are you inputting any information that is protected by copyright?',
            'Do you understand this AI tool\'s terms of service regarding ownership?',
            'By inputting your ideas, you may no longer have creative ownership‚Äîis that okay?',
            'Could AI-generated content infringe on others\' intellectual property?'
          ],
          scenarios: [
            { situation: 'Uploading your novel manuscript for AI editing suggestions', verdict: 'red', explanation: 'Your original creative work could become AI training data.' },
            { situation: 'Using AI to generate a logo for your startup', verdict: 'yellow', explanation: 'Copyright status of AI-generated content is legally uncertain.' },
            { situation: 'Asking AI to summarize a publicly available article', verdict: 'green', explanation: 'Summarizing for personal use typically doesn\'t raise IP concerns.' }
          ]
        },
        decisionTree: [
          { q: 'Are you inputting original creative work (writing, code, art)?', yes: 1, no: 2 },
          { q: 'Do you want to retain full copyright over this work?', yes: 'stop', no: 3 },
          { q: 'Are you inputting others\' copyrighted material?', yes: 4, no: 'proceed' },
          { q: 'Have you reviewed the AI tool\'s terms of service?', yes: 4, no: 'research' },
          { q: 'Do you have permission to use this material with AI?', yes: 'proceed', no: 'stop' }
        ]
      },
      {
        id: 'privacy', title: 'Privacy', icon: 'üîí',
        color: 'from-pink-400 to-rose-500', bgColor: 'bg-pink-50', borderColor: 'border-pink-300',
        question: 'Are you comfortable having your prompt tied to your name and email?',
        deepDive: {
          title: 'Your Data, Their Servers',
          content: 'AI tools often retain, analyze, and learn from your inputs. Confidential information‚Äîabout yourself or others‚Äîmay be stored, breached, or used in ways you didn\'t anticipate.',
          subQuestions: [
            'Is the data you\'ve inputted confidential?',
            'Are you sharing information about others without their consent?',
            'Do you know how long this AI service retains your data?',
            'Because AI tools train on and share your inputs, are you comfortable with that?'
          ],
          scenarios: [
            { situation: 'Uploading patient records to AI for analysis', verdict: 'red', explanation: 'This likely violates HIPAA and patient confidentiality.' },
            { situation: 'Sharing your personal journal entries with AI', verdict: 'yellow', explanation: 'Personal data may be retained and used for training.' },
            { situation: 'Asking AI general knowledge questions', verdict: 'green', explanation: 'No private information is exposed in factual queries.' }
          ]
        },
        decisionTree: [
          { q: 'Does your prompt contain any personal identifying information?', yes: 1, no: 2 },
          { q: 'Are you okay with this information potentially being stored/used?', yes: 2, no: 'stop' },
          { q: 'Does your prompt contain information about other people?', yes: 3, no: 4 },
          { q: 'Do you have their consent to share this with AI?', yes: 4, no: 'stop' },
          { q: 'Does your prompt contain confidential/proprietary information?', yes: 5, no: 'proceed' },
          { q: 'Are you authorized to share this information with third parties?', yes: 'proceed', no: 'stop' }
        ]
      },
      {
        id: 'consequences', title: 'Consequences', icon: '‚ö†Ô∏è',
        color: 'from-orange-400 to-red-500', bgColor: 'bg-orange-50', borderColor: 'border-orange-300',
        question: 'What might happen if you use this tool?',
        deepDive: {
          title: 'Thinking Ahead',
          content: 'Consider both immediate and long-term consequences. What doors might close? What habits might form? How might this choice affect your academic standing, career, or personal development?',
          subQuestions: [
            'Is your use of AI tools permitted in your class?',
            'Have you checked your assignment, class, or department policy about AI?',
            'What skills might you fail to develop by using AI here?',
            'How might this affect your confidence in your own abilities?'
          ],
          scenarios: [
            { situation: 'Using AI when your syllabus explicitly prohibits it', verdict: 'red', explanation: 'This could result in academic misconduct charges.' },
            { situation: 'Becoming dependent on AI for tasks you should master', verdict: 'yellow', explanation: 'Long-term skill development may suffer.' },
            { situation: 'Using AI for tasks outside your coursework', verdict: 'green', explanation: 'Personal use generally has fewer academic consequences.' }
          ]
        },
        decisionTree: [
          { q: 'Is AI use explicitly prohibited for this assignment?', yes: 'stop', no: 1 },
          { q: 'Have you verified AI is permitted in this context?', yes: 2, no: 'verify' },
          { q: 'Could using AI prevent you from developing important skills?', yes: 3, no: 4 },
          { q: 'Are you comfortable accepting that tradeoff?', yes: 4, no: 'alternative' },
          { q: 'Are you prepared to accept responsibility for the AI\'s output?', yes: 'proceed', no: 'stop' }
        ]
      }
    ];

    const scenarios = [
      { id: 1, title: 'The Late Night Essay', description: 'It\'s 2 AM and you have a 5-page essay due at 9 AM. You haven\'t started. You\'re considering having AI write the first draft.', complexity: 'High' },
      { id: 2, title: 'The Study Group Summary', description: 'Your study group wants to use AI to summarize the 200-page textbook chapter before the exam. Not everyone agrees.', complexity: 'Medium' },
      { id: 3, title: 'The Coding Assignment', description: 'You\'re stuck on a programming assignment. You want to ask AI to explain the concept and show an example solution.', complexity: 'Medium' },
      { id: 4, title: 'The Research Deep Dive', description: 'You need to find sources for a research paper. You\'re thinking of asking AI to generate a bibliography.', complexity: 'High' },
      { id: 5, title: 'The Creative Project', description: 'You\'re working on an art project and considering using AI to generate imagery that you\'ll modify.', complexity: 'Medium' },
      { id: 6, title: 'The Job Application', description: 'You want AI to write your cover letter for a summer internship application.', complexity: 'High' }
    ];

    const reflectionPrompts = [
      "What would your future self think about this AI use decision?",
      "If everyone in your class made this choice, what would the impact be?",
      "What are you actually learning or not learning through this process?",
      "How does this decision align with your personal values?",
      "What would you tell a friend in this same situation?",
      "Are you making this choice from a place of growth or avoidance?",
      "What's the story you'll tell about how you completed this task?",
      "How would you feel if your professor asked you to explain your process?"
    ];

    // State
    let currentPromptIndex = 0;
    let treeProgress = {};
    let completedPillars = [];
    let journalEntries = {};
    let scenarioResponses = {};

    // Result messages
    const resultMessages = {
      proceed: { text: 'Proceed with Awareness', color: 'text-green-600', bg: 'bg-green-100', icon: '‚úì' },
      stop: { text: 'Reconsider This Use', color: 'text-red-600', bg: 'bg-red-100', icon: '‚úó' },
      alternative: { text: 'Explore Alternatives', color: 'text-amber-600', bg: 'bg-amber-100', icon: '?' },
      discuss: { text: 'Discuss with Others First', color: 'text-blue-600', bg: 'bg-blue-100', icon: 'üí¨' },
      learn: { text: 'Build Knowledge First', color: 'text-purple-600', bg: 'bg-purple-100', icon: 'üìö' },
      research: { text: 'Research Before Proceeding', color: 'text-indigo-600', bg: 'bg-indigo-100', icon: 'üîç' },
      verify: { text: 'Verify Policy First', color: 'text-cyan-600', bg: 'bg-cyan-100', icon: 'üìã' },
      reflect: { text: 'Reflect on Impact', color: 'text-pink-600', bg: 'bg-pink-100', icon: 'ü§î' }
    };

    // Tab switching
    function showTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
      document.querySelectorAll('.tab-btn').forEach(el => {
        el.classList.remove('bg-gradient-to-r', 'from-indigo-500', 'to-purple-500', 'text-white', 'shadow-md');
        el.classList.add('text-gray-500', 'hover:bg-gray-50');
      });
      document.getElementById('content-' + tabId).classList.remove('hidden');
      const activeTab = document.getElementById('tab-' + tabId);
      activeTab.classList.add('bg-gradient-to-r', 'from-indigo-500', 'to-purple-500', 'text-white', 'shadow-md');
      activeTab.classList.remove('text-gray-500', 'hover:bg-gray-50');
    }

    // Render pillars
    function renderPillars() {
      const grid = document.getElementById('pillar-grid');
      grid.innerHTML = pillars.map(pillar => `
        <button onclick="openPillarModal('${pillar.id}')" class="pillar-card relative group p-4 rounded-2xl ${pillar.bgColor} border-2 ${pillar.borderColor} hover:shadow-xl">
          ${completedPillars.includes(pillar.id) ? '<div class="absolute -top-2 -right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm shadow-lg">‚úì</div>' : ''}
          <div class="w-14 h-14 mx-auto mb-3 rounded-xl bg-gradient-to-br ${pillar.color} flex items-center justify-center shadow-lg text-2xl">
            ${pillar.icon}
          </div>
          <h3 class="text-sm font-bold text-gray-800 text-center leading-tight">${pillar.title}</h3>
        </button>
      `).join('');
    }

    // Open pillar modal
    function openPillarModal(pillarId) {
      const pillar = pillars.find(p => p.id === pillarId);
      const modal = document.getElementById('modal-content');

      modal.innerHTML = `
        <div class="bg-gradient-to-r ${pillar.color} p-6 rounded-t-3xl">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
              <div class="bg-white/20 p-4 rounded-xl backdrop-blur text-3xl">${pillar.icon}</div>
              <div>
                <h2 class="text-2xl font-bold text-white">${pillar.title}</h2>
                <p class="text-white/80">${pillar.question}</p>
              </div>
            </div>
            <button onclick="closeModal()" class="text-white/80 hover:text-white text-3xl font-light">&times;</button>
          </div>
        </div>
        <div class="p-6">
          <div class="flex gap-2 mb-6">
            <button onclick="showPillarView('${pillar.id}', 'tree')" id="btn-tree-${pillar.id}" class="px-5 py-2.5 rounded-full font-semibold transition bg-gray-900 text-white">Decision Tree</button>
            <button onclick="showPillarView('${pillar.id}', 'deep')" id="btn-deep-${pillar.id}" class="px-5 py-2.5 rounded-full font-semibold transition bg-gray-100 text-gray-600 hover:bg-gray-200">Deep Dive</button>
          </div>
          <div id="pillar-view-${pillar.id}"></div>
        </div>
      `;

      document.getElementById('modal-overlay').classList.remove('hidden');
      showPillarView(pillarId, 'tree');
    }

    // Show pillar view (tree or deep dive)
    function showPillarView(pillarId, view) {
      const pillar = pillars.find(p => p.id === pillarId);
      const container = document.getElementById('pillar-view-' + pillarId);

      document.getElementById('btn-tree-' + pillarId).className = view === 'tree'
        ? 'px-5 py-2.5 rounded-full font-semibold transition bg-gray-900 text-white'
        : 'px-5 py-2.5 rounded-full font-semibold transition bg-gray-100 text-gray-600 hover:bg-gray-200';
      document.getElementById('btn-deep-' + pillarId).className = view === 'deep'
        ? 'px-5 py-2.5 rounded-full font-semibold transition bg-gray-900 text-white'
        : 'px-5 py-2.5 rounded-full font-semibold transition bg-gray-100 text-gray-600 hover:bg-gray-200';

      if (view === 'tree') {
        renderDecisionTree(pillarId, container);
      } else {
        renderDeepDive(pillarId, container);
      }
    }

    // Render decision tree
    function renderDecisionTree(pillarId, container) {
      const pillar = pillars.find(p => p.id === pillarId);
      const progress = treeProgress[pillarId] || { step: 0, path: [], result: null };

      let html = `
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-bold text-gray-800">Navigate the Decision Tree</h3>
          <button onclick="resetTree('${pillarId}')" class="flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
            Reset
          </button>
        </div>
      `;

      // Show path
      if (progress.path && progress.path.length > 0) {
        html += progress.path.map((step, idx) => `
          <div class="tree-node flex items-center gap-3 p-3 bg-gray-50 rounded-xl text-sm mb-2">
            <span class="w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-bold ${step.answer ? 'bg-green-500' : 'bg-red-500'}">
              ${step.answer ? 'Y' : 'N'}
            </span>
            <span class="text-gray-600">${step.question}</span>
          </div>
        `).join('');
      }

      // Show result or current question
      if (progress.result) {
        const result = resultMessages[progress.result];
        html += `
          <div class="tree-node p-6 rounded-2xl ${result.bg} mt-4">
            <div class="flex items-center gap-4">
              <span class="text-4xl">${result.icon}</span>
              <div>
                <h4 class="text-xl font-bold ${result.color}">${result.text}</h4>
                <p class="text-gray-600 mt-1">Based on your answers, this is the suggested path forward.</p>
              </div>
            </div>
          </div>
        `;
      } else {
        const currentQ = pillar.decisionTree[progress.step];
        html += `
          <div class="tree-node p-6 rounded-2xl ${pillar.bgColor} border-2 ${pillar.borderColor} mt-4">
            <p class="text-lg font-medium text-gray-800 mb-4">${currentQ.q}</p>
            <div class="flex gap-3">
              <button onclick="answerTree('${pillarId}', true)" class="flex-1 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-semibold transition shadow-lg hover:shadow-xl">Yes</button>
              <button onclick="answerTree('${pillarId}', false)" class="flex-1 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-semibold transition shadow-lg hover:shadow-xl">No</button>
            </div>
          </div>
        `;
      }

      container.innerHTML = html;
    }

    // Render deep dive
    function renderDeepDive(pillarId, container) {
      const pillar = pillars.find(p => p.id === pillarId);
      const dd = pillar.deepDive;

      container.innerHTML = `
        <div class="space-y-6">
          <div class="p-5 rounded-2xl ${pillar.bgColor}">
            <h3 class="font-bold text-gray-800 text-lg mb-2">${dd.title}</h3>
            <p class="text-gray-600 leading-relaxed">${dd.content}</p>
          </div>

          <div>
            <h4 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
              <span class="text-indigo-500">‚ùì</span> Questions to Consider
            </h4>
            <div class="grid gap-2">
              ${dd.subQuestions.map((q, idx) => `
                <div class="p-4 bg-gray-50 rounded-xl text-gray-700 flex items-start gap-3">
                  <span class="bg-indigo-100 text-indigo-600 w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 text-sm font-bold">${idx + 1}</span>
                  <span>${q}</span>
                </div>
              `).join('')}
            </div>
          </div>

          <div>
            <h4 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
              <span class="text-amber-500">‚ö°</span> Scenario Check
            </h4>
            <div class="space-y-3">
              ${dd.scenarios.map(s => `
                <div class="p-4 rounded-xl border-2 ${s.verdict === 'green' ? 'border-green-200 bg-green-50' : s.verdict === 'red' ? 'border-red-200 bg-red-50' : 'border-amber-200 bg-amber-50'}">
                  <div class="flex items-start gap-3">
                    <div class="w-4 h-4 rounded-full mt-1 ${s.verdict === 'green' ? 'bg-green-500' : s.verdict === 'red' ? 'bg-red-500' : 'bg-amber-500'}"></div>
                    <div>
                      <p class="font-medium text-gray-800">${s.situation}</p>
                      <p class="text-sm text-gray-600 mt-1">${s.explanation}</p>
                    </div>
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `;
    }

    // Answer tree question
    function answerTree(pillarId, answer) {
      const pillar = pillars.find(p => p.id === pillarId);
      const progress = treeProgress[pillarId] || { step: 0, path: [], result: null };
      const currentNode = pillar.decisionTree[progress.step];
      const nextStep = answer ? currentNode.yes : currentNode.no;

      const newPath = [...progress.path, { question: currentNode.q, answer }];

      if (typeof nextStep === 'string') {
        treeProgress[pillarId] = { step: progress.step, path: newPath, result: nextStep };
        if (!completedPillars.includes(pillarId)) {
          completedPillars.push(pillarId);
          updateProgress();
        }
      } else {
        treeProgress[pillarId] = { step: nextStep, path: newPath, result: null };
      }

      renderDecisionTree(pillarId, document.getElementById('pillar-view-' + pillarId));
    }

    // Reset tree
    function resetTree(pillarId) {
      treeProgress[pillarId] = { step: 0, path: [], result: null };
      completedPillars = completedPillars.filter(id => id !== pillarId);
      updateProgress();
      renderDecisionTree(pillarId, document.getElementById('pillar-view-' + pillarId));
    }

    // Update progress
    function updateProgress() {
      document.getElementById('progress-count').textContent = completedPillars.length;
      document.getElementById('progress-bar').style.width = ((completedPillars.length / 7) * 100) + '%';
      renderPillars();
    }

    // Close modal
    function closeModal() {
      document.getElementById('modal-overlay').classList.add('hidden');
    }

    // Render scenarios
    function renderScenarios() {
      const list = document.getElementById('scenarios-list');
      list.innerHTML = scenarios.map(s => `
        <button onclick="openScenario(${s.id})" class="scenario-card text-left p-6 bg-white rounded-2xl border-2 border-gray-100 hover:border-indigo-300 hover:shadow-xl transition group">
          <div class="flex items-center gap-2 mb-3">
            <span class="px-3 py-1 rounded-full text-xs font-semibold ${s.complexity === 'High' ? 'bg-red-100 text-red-600' : s.complexity === 'Medium' ? 'bg-amber-100 text-amber-600' : 'bg-green-100 text-green-600'}">
              ${s.complexity} Complexity
            </span>
          </div>
          <h3 class="text-lg font-bold text-gray-800 mb-2 group-hover:text-indigo-600 transition">${s.title}</h3>
          <p class="text-gray-600 text-sm">${s.description}</p>
          <div class="mt-4 flex items-center text-indigo-600 text-sm font-semibold">
            Analyze this scenario <span class="arrow ml-2 transition">‚Üí</span>
          </div>
        </button>
      `).join('');
    }

    // Open scenario detail
    function openScenario(id) {
      const scenario = scenarios.find(s => s.id === id);
      const list = document.getElementById('scenarios-list');
      const detail = document.getElementById('scenario-detail');

      list.classList.add('hidden');
      detail.classList.remove('hidden');

      detail.innerHTML = `
        <div class="bg-white rounded-2xl border-2 border-gray-100 overflow-hidden shadow-lg">
          <div class="bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 p-6">
            <button onclick="closeScenario()" class="flex items-center text-white/80 hover:text-white mb-4 text-sm font-medium">
              ‚Üê Back to Scenarios
            </button>
            <h2 class="text-2xl font-bold text-white">${scenario.title}</h2>
            <p class="text-white/80 mt-2">${scenario.description}</p>
          </div>
          <div class="p-6 space-y-4">
            <h3 class="font-bold text-gray-800 text-lg mb-4">Analyze Through Each Pillar</h3>
            ${pillars.map(pillar => `
              <div class="p-4 rounded-xl ${pillar.bgColor} border ${pillar.borderColor}">
                <div class="flex items-start gap-3">
                  <div class="w-12 h-12 rounded-lg bg-gradient-to-br ${pillar.color} flex items-center justify-center flex-shrink-0 text-xl shadow-lg">
                    ${pillar.icon}
                  </div>
                  <div class="flex-1">
                    <h4 class="font-bold text-gray-800">${pillar.title}</h4>
                    <p class="text-gray-600 text-sm mb-3">${pillar.question}</p>
                    <textarea onchange="saveScenarioResponse(${id}, '${pillar.id}', this.value)" class="w-full p-3 rounded-lg border border-gray-200 text-sm resize-none focus:ring-2 focus:ring-indigo-300 focus:border-indigo-300" rows="2" placeholder="Write your analysis here...">${scenarioResponses[id + '-' + pillar.id] || ''}</textarea>
                  </div>
                </div>
              </div>
            `).join('')}
            <div class="bg-gradient-to-r from-amber-50 to-orange-50 p-5 rounded-xl border border-amber-200 mt-6">
              <h4 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                üí° Your Final Decision
              </h4>
              <textarea onchange="saveScenarioResponse(${id}, 'final', this.value)" class="w-full p-4 rounded-lg border border-amber-200 bg-white text-sm resize-none focus:ring-2 focus:ring-amber-300 focus:border-amber-300" rows="4" placeholder="After considering all pillars, what would you do in this scenario and why?">${scenarioResponses[id + '-final'] || ''}</textarea>
            </div>
          </div>
        </div>
      `;
    }

    function closeScenario() {
      document.getElementById('scenarios-list').classList.remove('hidden');
      document.getElementById('scenario-detail').classList.add('hidden');
    }

    function saveScenarioResponse(scenarioId, pillarId, value) {
      scenarioResponses[scenarioId + '-' + pillarId] = value;
    }

    // Journal functions
    function renderJournal() {
      document.getElementById('prompt-num').textContent = currentPromptIndex + 1;
      document.getElementById('prompt-total').textContent = reflectionPrompts.length;
      document.getElementById('reflection-prompt').textContent = reflectionPrompts[currentPromptIndex];
      document.getElementById('journal-entry').value = journalEntries[currentPromptIndex] || '';

      const dots = document.getElementById('prompt-dots');
      dots.innerHTML = reflectionPrompts.map((_, idx) => `
        <button onclick="goToPrompt(${idx})" class="w-3 h-3 rounded-full transition ${idx === currentPromptIndex ? 'bg-indigo-500' : journalEntries[idx] ? 'bg-green-400' : 'bg-gray-200'}"></button>
      `).join('');
    }

    function prevPrompt() {
      saveJournalEntry();
      if (currentPromptIndex > 0) {
        currentPromptIndex--;
        renderJournal();
      }
    }

    function nextPrompt() {
      saveJournalEntry();
      if (currentPromptIndex < reflectionPrompts.length - 1) {
        currentPromptIndex++;
        renderJournal();
      }
    }

    function goToPrompt(idx) {
      saveJournalEntry();
      currentPromptIndex = idx;
      renderJournal();
    }

    function saveJournalEntry() {
      const entry = document.getElementById('journal-entry').value;
      if (entry.trim()) {
        journalEntries[currentPromptIndex] = entry;
      }
    }

    // Auto-save journal on input
    document.addEventListener('DOMContentLoaded', function() {
      const journalInput = document.getElementById('journal-entry');
      if (journalInput) {
        journalInput.addEventListener('input', function() {
          journalEntries[currentPromptIndex] = this.value;
          renderJournal();
        });
      }
    });

    // Initialize
    renderPillars();
    renderScenarios();
    renderJournal();
  </script>
</body>
</html>
